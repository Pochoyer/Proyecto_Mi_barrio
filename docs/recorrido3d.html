<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <title>Recorrido 3D | Proyecto Mi Barrio</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Estilos globales del sitio (si lo tienes) -->
  <link rel="stylesheet" href="estilos.css" />
  <!-- Estilos específicos de Catastro 3D -->
  <link rel="stylesheet" href="catastro3d.css" />

  <!-- Cesium 1.132 -->
  <link href="https://cesium.com/downloads/cesiumjs/releases/1.132/Build/Cesium/Widgets/widgets.css" rel="stylesheet" />
  <script src="https://cesium.com/downloads/cesiumjs/releases/1.132/Build/Cesium/Cesium.js"></script>

  <!-- (Opcional) Token de Cesium Ion si activas terreno/imagery Ion en el JS -->
  <script>
    // Reemplaza solo si poner USE_ION_TERRAIN = true en catastro3d.js
    Cesium.Ion.defaultAccessToken = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJkZjFiZTg0Mi1kMGE5LTQxZTItOTQ2NC04MzFjODE4Mjg2YzMiLCJpZCI6MzMxMzcyLCJpYXQiOjE3NTUwNDI2MDF9.bp9w8UGT5gU4rtUWaOjeTWJjjj1asVfDnexcz2e2G34";
  </script>
</head>
<body>
  <div class="pagina">
    <header>
      <!-- Ajusta el nombre del archivo si tu logo es 'logo.png' -->
      <a href="index.html"><img src="imagenes/Logo.png" alt="Logo" /></a>
      <h1>Recorrido 3D: Villa Anny II</h1>
    </header>

    <nav class="navbar">
      <ul>
        <li><a href="index.html">Inicio</a></li>
        <li><a href="equipamientos.html">Equipamientos</a></li>
        <li><a href="movilidad.html">Movilidad</a></li>        
        <li><a href="catastro3d.html">Catastro 3D</a></li>
        <li><a class="active" href="recorrido3d.html">Recorrido 3D</a></li>
        <li><a href="problematicas.html">Problemáticas</a></li>
        <li><a href="acerca_de.html">Acerca de</a></li>
      </ul>
    </nav>

    <main class="catastro3d">
      <section class="page-header">
        <h2>Recorrido 3D</h2>
        <p>
          Extrusión de polígonos (3 m por piso) y recorrido virtual siguiendo una ruta GeoJSON.
        </p>
      </section>

      <!-- Controles del recorrido (opcionales) -->
      <div class="toolbar">
        <div class="controls">
          <button id="btnPlay"  title="Reproducir / Pausar">⏯️</button>
          <button id="btnReset" title="Reiniciar">⟲</button>
          <label class="speed">
            Velocidad:
            <input id="speedRange" type="range" min="0.2" max="8" step="0.1" value="1" />
            <span id="speedVal">1.0×</span>
          </label>
        </div>
        <div class="info">
          <b>Catastro:</b> capas/Const_Villa_Anny_II.json (fallback: Villa_Anny_II.geojson) ·
          <b>Ruta:</b> rutas/recorrido_villa_anny.geojson
        </div>
      </div>

      <div id="webglWarning" class="warning" style="display:none;">
        Tu navegador no expone WebGL2 acelerado. Activa la aceleración por hardware o prueba otro navegador.
      </div>

      <!-- Contenedor de Cesium -->
      <div id="cesiumContainer"></div>
    </main>

    <footer>
      <small>&copy; 2025 Proyecto Mi Barrio — Villa Anny II</small>
    </footer>
  </div>

  <!-- Lógica -->
  <script src="catastro3d.js" defer></script>
</body>
</html>
